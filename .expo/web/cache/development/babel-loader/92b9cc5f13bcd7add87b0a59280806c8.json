{"ast":null,"code":"import Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { useLayoutEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { MEALS } from \"../data/dummy-data\";\nimport MealDetails from \"../components/MealDetails\";\nimport Subtitle from \"../components/MealDetail/Subtitle\";\nimport List from \"../components/MealDetail/List\";\nimport IconButton from \"../components/IconButton\";\nimport { addFavorite, removeFavorite } from \"../store/redux/favorite\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function MealDetailScreen(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var favoriteMealsIds = useSelector(function (state) {\n    return state.favoriteMeals.ids;\n  });\n  var dispatch = useDispatch();\n  var mealId = route.params.mealId;\n  var selectedMeal = MEALS.find(function (meal) {\n    return meal.id === mealId;\n  });\n  var mealIsFavorite = favoriteMealsIds.includes(mealId);\n\n  function changeFavoriteStatusHandler() {\n    if (mealIsFavorite) {\n      dispatch(removeFavorite({\n        id: mealId\n      }));\n    } else {\n      dispatch(addFavorite({\n        id: mealId\n      }));\n    }\n  }\n\n  useLayoutEffect(function () {\n    navigation.setOptions({\n      headerRight: function headerRight() {\n        return _jsx(IconButton, {\n          icon: mealIsFavorite ? 'star' : 'star-outline',\n          color: \"white\",\n          onPress: changeFavoriteStatusHandler\n        });\n      }\n    });\n  }, [changeFavoriteStatusHandler, navigation]);\n  return _jsxs(ScrollView, {\n    style: styles.root,\n    children: [_jsx(Image, {\n      style: styles.image,\n      source: {\n        uri: selectedMeal.imageUrl\n      }\n    }), _jsx(Text, {\n      style: styles.title,\n      children: selectedMeal.title\n    }), _jsx(MealDetails, {\n      duration: selectedMeal.duration,\n      complexity: selectedMeal.complexity,\n      affordability: selectedMeal.affordability,\n      textStyle: styles.detailText\n    }), _jsx(View, {\n      style: styles.listOutterContainer,\n      children: _jsxs(View, {\n        style: styles.listContainer,\n        children: [_jsx(Subtitle, {\n          children: \"ingredients\"\n        }), _jsx(List, {\n          data: selectedMeal.ingredients\n        }), _jsx(Subtitle, {\n          children: \"Steps\"\n        }), _jsx(List, {\n          data: selectedMeal.steps\n        })]\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  root: {\n    marginBottom: 32\n  },\n  image: {\n    width: '100%',\n    height: 350\n  },\n  title: {\n    fontWeight: 'bold',\n    fontSize: 24,\n    margin: 8,\n    textAlign: 'center',\n    color: 'white'\n  },\n  detailText: {\n    color: 'white'\n  },\n  listOutterContainer: {\n    alignItems: 'center'\n  },\n  listContainer: {\n    width: '80%'\n  }\n});","map":{"version":3,"names":["useLayoutEffect","useDispatch","useSelector","MEALS","MealDetails","Subtitle","List","IconButton","addFavorite","removeFavorite","MealDetailScreen","route","navigation","favoriteMealsIds","state","favoriteMeals","ids","dispatch","mealId","params","selectedMeal","find","meal","id","mealIsFavorite","includes","changeFavoriteStatusHandler","setOptions","headerRight","styles","root","image","uri","imageUrl","title","duration","complexity","affordability","detailText","listOutterContainer","listContainer","ingredients","steps","StyleSheet","create","marginBottom","width","height","fontWeight","fontSize","margin","textAlign","color","alignItems"],"sources":["C:/xampp/htdocs/navigation/screens/MealDetailScreen.js"],"sourcesContent":["import { Text, View, Image, StyleSheet, ScrollView } from 'react-native';  \r\nimport {  useLayoutEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { MEALS } from '../data/dummy-data';\r\nimport MealDetails from '../components/MealDetails';\r\nimport Subtitle from '../components/MealDetail/Subtitle';\r\nimport List from '../components/MealDetail/List';\r\nimport IconButton from '../components/IconButton';\r\nimport { addFavorite, removeFavorite } from '../store/redux/favorite';\r\n// import { FavoritesContext } from '../store/context/favorites-context';\r\n\r\nexport default function MealDetailScreen({ route, navigation }) {\r\n   // const favoriteMealsCtx = useContext(FavoritesContext)\r\n    const favoriteMealsIds = useSelector((state) => state.favoriteMeals.ids);\r\n    const dispatch = useDispatch();\r\n\r\n    const mealId = route.params.mealId;\r\n\r\n    const selectedMeal = MEALS.find((meal) => meal.id === mealId)\r\n\r\n    const mealIsFavorite = favoriteMealsIds.includes((mealId))\r\n\r\n    function changeFavoriteStatusHandler() {\r\n        if (mealIsFavorite) {\r\n            //favoriteMealsCtx.removeFavorite(mealId)\r\n            dispatch(removeFavorite({ id: mealId })) ;\r\n        } else {\r\n            //favoriteMealsCtx.addFavorite(mealId)\r\n            dispatch(addFavorite({ id: mealId })) ;\r\n\r\n        }\r\n    }\r\n\r\n    useLayoutEffect(() => {\r\n        navigation.setOptions({\r\n            headerRight: () => {\r\n                return <IconButton \r\n                    icon={mealIsFavorite ? 'star' : 'star-outline'}\r\n                    color=\"white\" \r\n                    onPress={changeFavoriteStatusHandler} />\r\n            }\r\n        })\r\n    }, [changeFavoriteStatusHandler, navigation])\r\n\r\n    return (\r\n        <ScrollView style={styles.root}>\r\n            <Image style={styles.image} source={{uri: selectedMeal.imageUrl}} />\r\n            <Text style={styles.title}>{selectedMeal.title}</Text>\r\n            <MealDetails \r\n                duration={selectedMeal.duration}\r\n                complexity={selectedMeal.complexity} \r\n                affordability={selectedMeal.affordability}\r\n                textStyle={styles.detailText}\r\n            />\r\n            <View style={styles.listOutterContainer}>\r\n                <View style={styles.listContainer} >\r\n                    <Subtitle>ingredients</Subtitle>\r\n                    <List data={selectedMeal.ingredients} />\r\n                    <Subtitle>Steps</Subtitle>\r\n                    <List data={selectedMeal.steps} />\r\n                </View>\r\n            </View>\r\n        </ScrollView>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    root:{\r\n        marginBottom: 32\r\n    },\r\n    image: {\r\n        width: '100%',\r\n        height: 350,\r\n    },\r\n    title: {\r\n        fontWeight: 'bold',\r\n        fontSize: 24,\r\n        margin: 8,\r\n        textAlign: 'center',\r\n        color: 'white'\r\n    },\r\n    detailText: {\r\n        color: 'white',\r\n    },\r\n    listOutterContainer: {\r\n        alignItems: 'center',\r\n    },  \r\n    listContainer: {\r\n        width: '80%'\r\n    }\r\n})"],"mappings":";;;;;AACA,SAAUA,eAAV,QAAiC,OAAjC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,KAAT;AACA,OAAOC,WAAP;AACA,OAAOC,QAAP;AACA,OAAOC,IAAP;AACA,OAAOC,UAAP;AACA,SAASC,WAAT,EAAsBC,cAAtB;;;AAGA,eAAe,SAASC,gBAAT,OAAiD;EAAA,IAArBC,KAAqB,QAArBA,KAAqB;EAAA,IAAdC,UAAc,QAAdA,UAAc;EAE5D,IAAMC,gBAAgB,GAAGX,WAAW,CAAC,UAACY,KAAD;IAAA,OAAWA,KAAK,CAACC,aAAN,CAAoBC,GAA/B;EAAA,CAAD,CAApC;EACA,IAAMC,QAAQ,GAAGhB,WAAW,EAA5B;EAEA,IAAMiB,MAAM,GAAGP,KAAK,CAACQ,MAAN,CAAaD,MAA5B;EAEA,IAAME,YAAY,GAAGjB,KAAK,CAACkB,IAAN,CAAW,UAACC,IAAD;IAAA,OAAUA,IAAI,CAACC,EAAL,KAAYL,MAAtB;EAAA,CAAX,CAArB;EAEA,IAAMM,cAAc,GAAGX,gBAAgB,CAACY,QAAjB,CAA2BP,MAA3B,CAAvB;;EAEA,SAASQ,2BAAT,GAAuC;IACnC,IAAIF,cAAJ,EAAoB;MAEhBP,QAAQ,CAACR,cAAc,CAAC;QAAEc,EAAE,EAAEL;MAAN,CAAD,CAAf,CAAR;IACH,CAHD,MAGO;MAEHD,QAAQ,CAACT,WAAW,CAAC;QAAEe,EAAE,EAAEL;MAAN,CAAD,CAAZ,CAAR;IAEH;EACJ;;EAEDlB,eAAe,CAAC,YAAM;IAClBY,UAAU,CAACe,UAAX,CAAsB;MAClBC,WAAW,EAAE,uBAAM;QACf,OAAO,KAAC,UAAD;UACH,IAAI,EAAEJ,cAAc,GAAG,MAAH,GAAY,cAD7B;UAEH,KAAK,EAAC,OAFH;UAGH,OAAO,EAAEE;QAHN,EAAP;MAIH;IANiB,CAAtB;EAQH,CATc,EASZ,CAACA,2BAAD,EAA8Bd,UAA9B,CATY,CAAf;EAWA,OACI,MAAC,UAAD;IAAY,KAAK,EAAEiB,MAAM,CAACC,IAA1B;IAAA,WACI,KAAC,KAAD;MAAO,KAAK,EAAED,MAAM,CAACE,KAArB;MAA4B,MAAM,EAAE;QAACC,GAAG,EAAEZ,YAAY,CAACa;MAAnB;IAApC,EADJ,EAEI,KAAC,IAAD;MAAM,KAAK,EAAEJ,MAAM,CAACK,KAApB;MAAA,UAA4Bd,YAAY,CAACc;IAAzC,EAFJ,EAGI,KAAC,WAAD;MACI,QAAQ,EAAEd,YAAY,CAACe,QAD3B;MAEI,UAAU,EAAEf,YAAY,CAACgB,UAF7B;MAGI,aAAa,EAAEhB,YAAY,CAACiB,aAHhC;MAII,SAAS,EAAER,MAAM,CAACS;IAJtB,EAHJ,EASI,KAAC,IAAD;MAAM,KAAK,EAAET,MAAM,CAACU,mBAApB;MAAA,UACI,MAAC,IAAD;QAAM,KAAK,EAAEV,MAAM,CAACW,aAApB;QAAA,WACI,KAAC,QAAD;UAAA;QAAA,EADJ,EAEI,KAAC,IAAD;UAAM,IAAI,EAAEpB,YAAY,CAACqB;QAAzB,EAFJ,EAGI,KAAC,QAAD;UAAA;QAAA,EAHJ,EAII,KAAC,IAAD;UAAM,IAAI,EAAErB,YAAY,CAACsB;QAAzB,EAJJ;MAAA;IADJ,EATJ;EAAA,EADJ;AAoBH;AAED,IAAMb,MAAM,GAAGc,UAAU,CAACC,MAAX,CAAkB;EAC7Bd,IAAI,EAAC;IACDe,YAAY,EAAE;EADb,CADwB;EAI7Bd,KAAK,EAAE;IACHe,KAAK,EAAE,MADJ;IAEHC,MAAM,EAAE;EAFL,CAJsB;EAQ7Bb,KAAK,EAAE;IACHc,UAAU,EAAE,MADT;IAEHC,QAAQ,EAAE,EAFP;IAGHC,MAAM,EAAE,CAHL;IAIHC,SAAS,EAAE,QAJR;IAKHC,KAAK,EAAE;EALJ,CARsB;EAe7Bd,UAAU,EAAE;IACRc,KAAK,EAAE;EADC,CAfiB;EAkB7Bb,mBAAmB,EAAE;IACjBc,UAAU,EAAE;EADK,CAlBQ;EAqB7Bb,aAAa,EAAE;IACXM,KAAK,EAAE;EADI;AArBc,CAAlB,CAAf"},"metadata":{},"sourceType":"module"}